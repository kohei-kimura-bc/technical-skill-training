using '../main.bicep'

// Common
// リソースを構築する環境を指定
param location = 'japaneast'
param tenant_id = '4be1e257-44f8-4fd3-b3e5-0f5f56ea7518'
param subscription_id = '91572b86-3626-48e4-a3c7-8e8e65fa2e41'

// App Service Plan
param asp_name = 'app-service-plan'
param asp_sku = 'B1' // コストが最も低いプランを選択

// App Service
param web_app_name = 'app-service'
param linux_fx_version = 'PYTHON|3.11' // App Serviceで利用できる最新バージョンを選択

// Storage Account
param storage_account_name = 'storage'
param storage_account_type = 'Standard_LRS' // 標準的なプランを選択

// App Insights
param app_insights_name = 'app-insights'

// Log Analytics Workspace
param log_analytics_name = 'log-analytics'

/* Azure Functions
定期実行のために関数を作成
・サブタスクチケットの情報を管理テーブルに反映する
*/
param func_app_name = 'update-with-subtask'
param func_worker_runtime = 'python'

// Azure Key Vault
param key_vault_name = 'key-vault'
// Azure Key Vaultにアクセスするユーザーを定義
param object_id_member1 = '26564dd4-9fd8-42d9-80b6-c382b87b6a83' // Kadosaka
param object_id_member2 = '437ebe4a-e22b-488a-a62c-9d53e0b0a8c2' // Sato

// Azure AI Hub
param ai_hub_name = 'ai-hub'

// Azure AI Project
param ai_project_name = 'ai-project'

// Azure AI Services
param ai_services_name = 'ai-services'

// Document Intelligence
param document_intelligence_name = 'document-intelligence'

// Action Groups
param action_groups_name = 'action-groups'
param action_groups_short_name = 'ag'

/*
Metric Alert
メトリックアラート:サブタスクチケットの情報を管理テーブルに反映する
*/
param metric_alert_name = 'update-with-subtask-alert'
param metric_alert_description = '''
It's fired when the function timer, \"UpdateWithSubtask\" failes. \n
Please confirm the detailed logs such as error messages on Azure portal,
navigating to app-insight > \"ログ\" on the left pane and,
run the \"traces | where operation_Name == \"UpdateWithSubtask\" on the query editor."
'''

// SQL Database
param admin_login = 'admin-role'
param admin_password = 'Password#0' //SQL Databaseの命名規則を充足するPasswordを設定(これに-tokenを足したものが実際のパスワード)
param database_name = 'sql-database'
// SQL Server
param server_name = 'sql-server'
